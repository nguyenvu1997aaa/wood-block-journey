<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="version" content="%SNOWPACK_PUBLIC_BUILD_VERSION%" />
        <title>%SNOWPACK_PUBLIC_GAME_NAME%</title>
        <style>
            :root {
                --sat: env(safe-area-inset-top);
                --sar: env(safe-area-inset-right);
                --sab: env(safe-area-inset-bottom);
                --sal: env(safe-area-inset-left);
                -webkit-touch-callout: none; /* iOS Safari */
                -webkit-user-select: none; /* Safari */
                -khtml-user-select: none; /* Konqueror HTML */
                -moz-user-select: none; /* Old versions of Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
            }

            html {
                width: 100%;
                height: 100%;
                font-size: 18px;
                scroll-behavior: smooth;
                font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;
            }

            body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                color: white;
                background: transparent;
                overflow: hidden;
                background-color: #000;
            }

            #app {
                width: 100%;
                height: 100%;
                position: absolute;
                background-image: url(./assets/svgs/background.svg);
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center center;
            }

            canvas {
                max-height: 100%;
                max-width: 100%;
                object-fit: contain;
                position: relative;
                transform: translate(-50%, -50%);
                left: 50%;
                top: 50%;
                box-shadow: rgb(0 0 0 / 10%) 0px 0px 16px 16px;
            }

            #capture {
                display: none;
            }

            #lds-dual-ring,
            #wait-ads-dual-ring {
                display: block;
                width: 64px;
                height: 64px;
                margin: 0px auto;
                border-radius: 50%;
                border: 6px solid #fff;
                border-color: #fff transparent #fff transparent;
                animation: lds-dual-ring 1.2s linear infinite;
                -webkit-animation: lds-dual-ring 1.2s linear infinite;
            }

            #lds-text,
            #wait-ads-text {
                text-align: center;
                -webkit-text-align: center;
                margin-top: 30px;
                font-size: 1.2rem;
            }

            #lds-content,
            #wait-ads-content {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                -webkit-transform: translate(-50%, -50%);
            }

            #wait-ads-mask {
                position: absolute;
                width: 100%;
                height: 100%;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background-color: #191919;
            }

            @keyframes lds-dual-ring {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            div[hidden] {
                display: none !important;
            }
        </style>
        <script>
            window.dataLayer = window.dataLayer || []
            function gtag() {
                dataLayer.push(arguments)
            }
            window.__GA_CONFIG = {
                GAME_NAME: '%SNOWPACK_PUBLIC_GAME_NAME%',
                GA_MEASUREMENT_ID: '%SNOWPACK_PUBLIC_GA_MEASUREMENT_ID%',
                UA_TRACKING_ID: '%SNOWPACK_PUBLIC_UA_TRACKING_ID%',
                BUILD_VERSION: '%SNOWPACK_PUBLIC_BUILD_VERSION%',
            }
        </script>
        <script src="%SNOWPACK_PUBLIC_SENTRY_SDK%"></script>
        <script src="%SNOWPACK_PUBLIC_GAME_SDK%"></script>

        <script>
            'use strict'

            var waitSentryTimer = setInterval(function () {
                if (!window.hasOwnProperty('Sentry')) return
                clearInterval(waitSentryTimer)
                var dns = '%SNOWPACK_PUBLIC_SENTRY_DSN%'
                if (dns === 'null' || !dns) return

                Sentry.init({
                    dsn: dns,
                    environment: '%SNOWPACK_PUBLIC_NODE_ENV%',
                    release: '%SNOWPACK_PUBLIC_BUILD_VERSION%',
                    tracesSampleRate: '%SNOWPACK_PUBLIC_SENTRY_SAMPLE_RATE%',
                })
            }, 100)
        </script>

        <script type="module" src="modules/game-sdk/index.js"></script>
        <script type="module" src="libs/initFbInstant.js"></script>
    </head>

    <body oncontextmenu="event.preventDefault()">
        <div id="app"></div>
        <script type="module" src="libs/phaser-custom.min.js"></script>
        <script type="module" src="index.js"></script>
        <script type="module" src="libs/initFbInstant.js"></script>
        <script src="https://polyfill.io/v3/polyfill.js?features=es5,es6,es7&flags=gated"></script>
    </body>
</html>
